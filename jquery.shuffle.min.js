// IMPORTANT!
// If you're already using Modernizr, delete it from this file. If you don't know what Modernizr is, leave it :)

/* Modernizr 2.6.2 (Custom Build) | MIT & BSD
 * Build: http://modernizr.com/download/#-csstransforms-csstransforms3d-csstransitions-cssclasses-prefixed-teststyles-testprop-testallprops-prefixes-domprefixes
 */
;window.Modernizr=function(a,b,c){function z(a){j.cssText=a}function A(a,b){return z(m.join(a+";")+(b||""))}function B(a,b){return typeof a===b}function C(a,b){return!!~(""+a).indexOf(b)}function D(a,b){for(var d in a){var e=a[d];if(!C(e,"-")&&j[e]!==c)return b=="pfx"?e:!0}return!1}function E(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:B(f,"function")?f.bind(d||b):f}return!1}function F(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+o.join(d+" ")+d).split(" ");return B(b,"string")||B(b,"undefined")?D(e,b):(e=(a+" "+p.join(d+" ")+d).split(" "),E(e,b,c))}var d="2.6.2",e={},f=!0,g=b.documentElement,h="modernizr",i=b.createElement(h),j=i.style,k,l={}.toString,m=" -webkit- -moz- -o- -ms- ".split(" "),n="Webkit Moz O ms",o=n.split(" "),p=n.toLowerCase().split(" "),q={},r={},s={},t=[],u=t.slice,v,w=function(a,c,d,e){var f,i,j,k,l=b.createElement("div"),m=b.body,n=m||b.createElement("body");if(parseInt(d,10))while(d--)j=b.createElement("div"),j.id=e?e[d]:h+(d+1),l.appendChild(j);return f=["&#173;",'<style id="s',h,'">',a,"</style>"].join(""),l.id=h,(m?l:n).innerHTML+=f,n.appendChild(l),m||(n.style.background="",n.style.overflow="hidden",k=g.style.overflow,g.style.overflow="hidden",g.appendChild(n)),i=c(l,a),m?l.parentNode.removeChild(l):(n.parentNode.removeChild(n),g.style.overflow=k),!!i},x={}.hasOwnProperty,y;!B(x,"undefined")&&!B(x.call,"undefined")?y=function(a,b){return x.call(a,b)}:y=function(a,b){return b in a&&B(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var d=u.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(u.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(u.call(arguments)))};return e}),q.csstransforms=function(){return!!F("transform")},q.csstransforms3d=function(){var a=!!F("perspective");return a&&"webkitPerspective"in g.style&&w("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b,c){a=b.offsetLeft===9&&b.offsetHeight===3}),a},q.csstransitions=function(){return F("transition")};for(var G in q)y(q,G)&&(v=G.toLowerCase(),e[v]=q[G](),t.push((e[v]?"":"no-")+v));return e.addTest=function(a,b){if(typeof a=="object")for(var d in a)y(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return e;b=typeof b=="function"?b():b,typeof f!="undefined"&&f&&(g.className+=" "+(b?"":"no-")+a),e[a]=b}return e},z(""),i=k=null,e._version=d,e._prefixes=m,e._domPrefixes=p,e._cssomPrefixes=o,e.testProp=function(a){return D([a])},e.testAllProps=F,e.testStyles=w,e.prefixed=function(a,b,c){return b?F(a,b,c):F(a,"pfx")},g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+t.join(" "):""),e}(this,this.document);


// Shuffle Doesn't require this shuffle/debounce plugin, but it works better with it.

/*
 * jQuery throttle / debounce - v1.1 - 3/7/2010
 * http://benalman.com/projects/jquery-throttle-debounce-plugin/
 *
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function(b,c){var $=b.jQuery||b.Cowboy||(b.Cowboy={}),a;$.throttle=a=function(e,f,j,i){var h,d=0;if(typeof f!=="boolean"){i=j;j=f;f=c}function g(){var o=this,m=+new Date()-d,n=arguments;function l(){d=+new Date();j.apply(o,n)}function k(){h=c}if(i&&!h){l()}h&&clearTimeout(h);if(i===c&&m>e){l()}else{if(f!==true){h=setTimeout(i?k:l,i===c?e-m:e)}}}if($.guid){g.guid=j.guid=j.guid||$.guid++}return g};$.debounce=function(d,e,f){return f===c?a(d,e,false):a(d,f,e!==false)}})(this);

/*!
 * jQuery Shuffle Plugin
 * Uses CSS Transforms to filter down a grid of items.
 * Dependencies: jQuery 1.9+, Modernizr 2.6.2. Optionally throttle/debounce by Ben Alman
 * Inspired by Isotope http://isotope.metafizzy.co/
 * Licensed under the MIT license.
 * @author Glen Cheney (http://glencheney.com)
 * @version 2.0
 * @date 07/05/13
 */
(function(e,p,h){e.fn.sorted=function(a){var b=e.extend({},e.fn.sorted.defaults,a);a=this.get();var c=!1;if(!a.length)return[];if(b.randomize)return e.fn.sorted.randomize(a);b.by!==e.noop&&(null!==b.by&&b.by!==h)&&a.sort(function(a,f){if(c)return 0;var g=b.by(e(a)),k=b.by(e(f));return g===h&&k===h?(c=!0,0):"sortFirst"===g||"sortLast"===k?-1:"sortLast"===g||"sortFirst"===k?1:g<k?-1:g>k?1:0});if(c)return this.get();b.reverse&&a.reverse();return a};e.fn.sorted.defaults={reverse:!1,by:null,randomize:!1};
e.fn.sorted.randomize=function(a){var b=a.length,c,d;if(!b)return a;for(;--b;)d=Math.floor(Math.random()*(b+1)),c=a[d],a[d]=a[b],a[b]=c;return a};var q=0,l=function(a,b){e.extend(this,l.options,b,l.settings);this.$container=a;this.$window=e(window);this.unique="shuffle_"+q++;this._fire("loading");this._init();this._fire("done")};l.prototype={constructor:l,_init:function(){var a=this,b,c=e.proxy(a._onResize,a);b=a.throttle?a.throttle(a.throttleTime,c):c;c=a.initialSort?a.initialSort:null;a._setVars();
a._resetCols();a._addClasses();a._initItems();a.$window.on("resize.shuffle."+a.unique,b);b=a.$container.css(["paddingLeft","paddingRight","position","width"]);"static"===b.position&&a.$container.css("position","relative");a.offset={left:parseInt(b.paddingLeft,10)||0,top:parseInt(b.paddingTop,10)||0};a._setColumns(parseInt(b.width,10));a.shuffle(a.group,c);a.supported&&setTimeout(function(){a._setTransitions();a.$container[0].style[a.transitionName]="height "+a.speed+"ms "+a.easing},0)},_addClasses:function(){this.$container.addClass("shuffle");
this.$items.addClass("shuffle-item filtered");return this},_setVars:function(){this.$items=this._getItems();this.transitionName=this.prefixed("transition");this.transitionDelayName=this.prefixed("transitionDelay");this.transitionDuration=this.prefixed("transitionDuration");this.transform=this.getPrefixed("transform");this.transitionend={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"}[this.transitionName];
this.isFluid=this.columnWidth&&"function"===typeof this.columnWidth;0===this.columnWidth&&null!==this.sizer&&(this.columnWidth=this.sizer);"string"===typeof this.columnWidth?this.$sizer=this.$container.find(this.columnWidth):this.columnWidth&&this.columnWidth.nodeType&&1===this.columnWidth.nodeType?this.$sizer=e(this.columnWidth):this.columnWidth&&this.columnWidth.jquery&&(this.$sizer=this.columnWidth);this.$sizer&&this.$sizer.length&&(this.useSizer=!0,this.sizer=this.$sizer[0]);return this},_filter:function(a,
b){var c=this,d=b!==h?b:c.$items,f=e();a=a||c.lastFilter;c._fire("filter");e.isFunction(a)?d.each(function(){var b=e(this);a.call(b[0],b,c)&&(f=f.add(b))}):(c.group=a,"all"!==a?d.each(function(){var b=e(this),d=b.data("groups"),d=c.delimeter&&!e.isArray(d)?d.split(c.delimeter):d;-1<e.inArray(a,d)&&(f=f.add(b))}):f=d);c._toggleFilterClasses(d,f);b=d=null;return f},_toggleFilterClasses:function(a,b){a.filter(b).each(function(){var a=e(this);a.hasClass("concealed")&&a.removeClass("concealed");a.hasClass("filtered")||
a.addClass("filtered")});a.not(b).each(function(){var a=e(this);a.hasClass("concealed")||a.addClass("concealed");a.hasClass("filtered")&&a.removeClass("filtered")})},_initItems:function(a){a=a||this.$items;return a.css(this.itemCss)},_updateItemCount:function(){this.visibleItems=this.$items.filter(".filtered").length;return this},_setTransition:function(a){a.style[this.transitionName]=this.transform+" "+this.speed+"ms "+this.easing+", opacity "+this.speed+"ms "+this.easing;return a},_setTransitions:function(a){var b=
this;a=a||b.$items;a.each(function(){b._setTransition(this)});return b},_setSequentialDelay:function(a){var b=this;b.supported&&e.each(a,function(a){this.style[b.transitionDelayName]="0ms,"+(a+1)*b.sequentialFadeDelay+"ms";e(this).one(b.transitionend,function(){this.style[b.transitionDelayName]="0ms"})})},_getItems:function(){return this.$container.children(this.itemSelector)},_getPreciseDimension:function(a,b){var c;c=window.getComputedStyle?window.getComputedStyle(a,null)[b]:e(a).css(b);return parseFloat(c)},
_setColumns:function(a){a=a||this.$container.width();var b="function"===typeof this.gutterWidth?this.gutterWidth(a):this.useSizer?this._getPreciseDimension(this.sizer,"marginLeft"):this.gutterWidth;this.colWidth=(this.colWidth=this.isFluid?this.columnWidth(a):this.useSizer?this._getPreciseDimension(this.sizer,"width"):this.columnWidth||this.$items.outerWidth(!0)||a)||a;this.colWidth+=b;b=(a+b)/this.colWidth;0.01>Math.ceil(b)-b&&(b=Math.ceil(b));this.cols=Math.floor(b);this.cols=Math.max(this.cols,
1);this.containerWidth=a},_setContainerSize:function(){var a=Math.max.apply(Math,this.colYs);this.$container.css("height",a+"px")},_fire:function(a,b){this.$container.trigger(a+".shuffle",b&&b.length?b:[this])},_layout:function(a,b,c,d){var f=this;b=b||f.filterEnd;f.layoutTransitionEnded=!1;e.each(a,function(g){g=e(a[g]);var k=Math.ceil(g.outerWidth(!0)/f.colWidth),k=Math.min(k,f.cols);if(1===k)f._placeItem(g,f.colYs,b,c,d);else{var m=f.cols+1-k,h=[],l,n;for(n=0;n<m;n++)l=f.colYs.slice(n,n+k),h[n]=
Math.max.apply(Math,l);f._placeItem(g,h,b,c,d)}});f._processStyleQueue();f._setContainerSize()},_resetCols:function(){var a=this.cols;for(this.colYs=[];a--;)this.colYs.push(0)},_reLayout:function(a,b){this._resetCols();this.keepSorted&&this.lastSort?this.sort(this.lastSort,!0,b):this._layout(this.$items.filter(".filtered").get(),this.filterEnd,b)},_placeItem:function(a,b,c,d,e){for(var g=Math.min.apply(Math,b),k=0,m=0,h=b.length;m<h;m++)if(b[m]>=g-this.buffer&&b[m]<=g+this.buffer){k=m;break}b=this.colWidth*
k;var l=g;b=Math.round(b+this.offset.left);l=Math.round(l+this.offset.top);a.data({x:b,y:l});g+=a.outerHeight(!0);h=this.cols+1-h;for(m=0;m<h;m++)this.colYs[k+m]=g;a={from:"layout",$this:a,x:b,y:l,scale:1};d?a.skipTransition=!0:(a.opacity=1,a.callback=c);e&&(a.opacity=0);this.styleQueue.push(a)},_shrink:function(a,b){var c=this,d=a||c.$items.filter(".concealed"),f={},g=b||c.shrinkEnd;d.length&&(c._fire("shrink"),c.shrinkTransitionEnded=!1,d.each(function(){var a=e(this),b=a.data();f={from:"shrink",
$this:a,x:b.x,y:b.y,scale:0.001,opacity:0,callback:g};c.styleQueue.push(f)}))},_onResize:function(){var a;this.enabled&&!this.destroyed&&(a=this.$container.width(),a!==this.containerWidth&&this.resized())},setPrefixedCss:function(a,b,c){a.css(this.prefixed(b),c)},getPrefixed:function(a){return(a=this.prefixed(a))?a.replace(/([A-Z])/g,function(a,c){return"-"+c.toLowerCase()}).replace(/^ms-/,"-ms-"):a},transition:function(a){var b=this,c,d=function(){b.layoutTransitionEnded||"layout"!==a.from?b.shrinkTransitionEnded||
"shrink"!==a.from||(a.callback.call(b),b.shrinkTransitionEnded=!0):(b._fire("layout"),a.callback.call(b),b.layoutTransitionEnded=!0)};a.callback=a.callback||e.noop;b.supported?(a.scale===h&&(a.scale=1),c=b.threeD?"translate3d("+a.x+"px, "+a.y+"px, 0) scale3d("+a.scale+", "+a.scale+", 1)":"translate("+a.x+"px, "+a.y+"px) scale("+a.scale+", "+a.scale+")",a.x!==h&&b.setPrefixedCss(a.$this,"transform",c),a.opacity!==h&&a.$this.css("opacity",a.opacity),a.$this.one(b.transitionend,d)):(c={left:a.x,top:a.y,
opacity:a.opacity},a.$this.stop(!0).animate(c,b.speed,"swing",d))},_processStyleQueue:function(){var a=this;e.each(a.styleQueue,function(b,c){c.skipTransition?a._skipTransition(c.$this[0],function(){a.transition(c)}):a.transition(c)});a.styleQueue.length=0},shrinkEnd:function(){this._fire("shrunk")},filterEnd:function(){this._fire("filtered")},sortEnd:function(){this._fire("sorted")},_skipTransition:function(a,b,c){var d=this.transitionDuration,f=a.style[d];a.style[d]="0ms";e.isFunction(b)?b():a.style[b]=
c;a.style[d]=f},_addItems:function(a,b,c){var d;this.supported||(b=!1);a.addClass("shuffle-item");this._initItems(a);this._setTransitions(a);this.$items=this._getItems();a.css("opacity",0);a=this._filter(h,a);d=a.get();this._updateItemCount();b?(this._layout(d,null,!0,!0),c&&this._setSequentialDelay(a),this._revealAppended(a)):this._layout(d)},_revealAppended:function(a){var b=this;setTimeout(function(){a.each(function(a,d){b.transition({from:"reveal",$this:e(d),opacity:1})})},b.revealAppendedDelay)},
shuffle:function(a,b){this.enabled&&(a||(a="all"),this._filter(a),this.lastFilter=a,this._updateItemCount(),this._resetCols(),this._shrink(),b&&(this.lastSort=b),this._reLayout())},sort:function(a,b,c){var d=this,e=d.$items.filter(".filtered").sorted(a);b||d._resetCols();d._layout(e,function(){b&&d.filterEnd();d.sortEnd()},c);d.lastSort=a},resized:function(a){this.enabled&&(a||this._setColumns(),this._reLayout())},layout:function(){this.update(!0)},update:function(a){this.resized(a)},appended:function(a,
b,c){this._addItems(a,!1===b?!1:!0,!1===c?!1:!0)},disable:function(){this.enabled=!1},enable:function(a){this.enabled=!0;!1!==a&&this.update()},remove:function(a){if(a.length&&a.jquery)return this._shrink(a,function(){var b=this;a.remove();setTimeout(function(){b.$items=b._getItems();b.layout();b._updateItemCount();b._fire("removed",[a,b]);a=null},0)}),this._processStyleQueue(),this},destroy:function(){this.$window.off("."+this.unique);this.$container.removeClass("shuffle").removeAttr("style").removeData("shuffle");
this.$items.removeAttr("style").removeClass("concealed filtered shuffle-item");this.destroyed=!0}};l.options={group:"all",speed:250,easing:"ease-out",itemSelector:"",sizer:null,gutterWidth:0,columnWidth:0,delimeter:null,buffer:0,initialSort:null,throttle:e.throttle||null,throttleTime:300,sequentialFadeDelay:150,supported:p.csstransforms&&p.csstransitions};l.settings={$sizer:null,useSizer:!1,itemCss:{position:"absolute",top:0,left:0},revealAppendedDelay:300,keepSorted:!0,enabled:!0,destroyed:!1,styleQueue:[],
prefixed:p.prefixed,threeD:p.csstransforms3d};e.fn.shuffle=function(a){var b=Array.prototype.slice.call(arguments,1);return this.each(function(){var c=e(this),d=c.data("shuffle");d||(d=new l(c,a),c.data("shuffle",d));"string"===typeof a&&d[a]&&d[a].apply(d,b)})}})(jQuery,Modernizr);