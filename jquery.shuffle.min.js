// IMPORTANT!
// If you're already using Modernizr, delete it from this file. If you don't know what Modernizr is, leave it :)

/* Modernizr 2.5.3 (Custom Build) | MIT & BSD
 * Build: http://modernizr.com/download/#-csstransforms-csstransforms3d-csstransitions-cssclasses-prefixed-teststyles-testprop-testallprops-prefixes-domprefixes
 */
;window.Modernizr=function(a,b,c){function z(a){j.cssText=a}function A(a,b){return z(m.join(a+";")+(b||""))}function B(a,b){return typeof a===b}function C(a,b){return!!~(""+a).indexOf(b)}function D(a,b){for(var d in a)if(j[a[d]]!==c)return b=="pfx"?a[d]:!0;return!1}function E(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:B(f,"function")?f.bind(d||b):f}return!1}function F(a,b,c){var d=a.charAt(0).toUpperCase()+a.substr(1),e=(a+" "+o.join(d+" ")+d).split(" ");return B(b,"string")||B(b,"undefined")?D(e,b):(e=(a+" "+p.join(d+" ")+d).split(" "),E(e,b,c))}var d="2.5.3",e={},f=!0,g=b.documentElement,h="modernizr",i=b.createElement(h),j=i.style,k,l={}.toString,m=" -webkit- -moz- -o- -ms- ".split(" "),n="Webkit Moz O ms",o=n.split(" "),p=n.toLowerCase().split(" "),q={},r={},s={},t=[],u=t.slice,v,w=function(a,c,d,e){var f,i,j,k=b.createElement("div"),l=b.body,m=l?l:b.createElement("body");if(parseInt(d,10))while(d--)j=b.createElement("div"),j.id=e?e[d]:h+(d+1),k.appendChild(j);return f=["&#173;","<style>",a,"</style>"].join(""),k.id=h,(l?k:m).innerHTML+=f,m.appendChild(k),l||(m.style.background="",g.appendChild(m)),i=c(k,a),l?k.parentNode.removeChild(k):m.parentNode.removeChild(m),!!i},x={}.hasOwnProperty,y;!B(x,"undefined")&&!B(x.call,"undefined")?y=function(a,b){return x.call(a,b)}:y=function(a,b){return b in a&&B(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var d=u.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(u.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(u.call(arguments)))};return e});var G=function(a,c){var d=a.join(""),f=c.length;w(d,function(a,c){var d=b.styleSheets[b.styleSheets.length-1],g=d?d.cssRules&&d.cssRules[0]?d.cssRules[0].cssText:d.cssText||"":"",h=a.childNodes,i={};while(f--)i[h[f].id]=h[f];e.csstransforms3d=(i.csstransforms3d&&i.csstransforms3d.offsetLeft)===9&&i.csstransforms3d.offsetHeight===3},f,c)}([,["@media (",m.join("transform-3d),("),h,")","{#csstransforms3d{left:9px;position:absolute;height:3px;}}"].join("")],[,"csstransforms3d"]);q.csstransforms=function(){return!!F("transform")},q.csstransforms3d=function(){var a=!!F("perspective");return a&&"webkitPerspective"in g.style&&(a=e.csstransforms3d),a},q.csstransitions=function(){return F("transition")};for(var H in q)y(q,H)&&(v=H.toLowerCase(),e[v]=q[H](),t.push((e[v]?"":"no-")+v));return z(""),i=k=null,e._version=d,e._prefixes=m,e._domPrefixes=p,e._cssomPrefixes=o,e.testProp=function(a){return D([a])},e.testAllProps=F,e.testStyles=w,e.prefixed=function(a,b,c){return b?F(a,b,c):F(a,"pfx")},g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+t.join(" "):""),e}(this,this.document);

/**
 * jQuery Shuffle Plugin
 * Uses CSS Transforms to filter down a grid of items (degrades to jQuery's animate).
 * Inspired by Isotope http://isotope.metafizzy.co/
 * Use it for whatever you want!
 * @author Glen Cheney (http://glencheney.com)
 * @version 1.3
 * @date 7/3/12
 */
 ;(function(a,b){"use strict";var c=b.csstransforms||b.csstransitions,d={init:function(e){var f={itemWidth:230,marginTop:20,marginRight:20,key:"all",speed:800,easing:"ease-out"};if(e){a.extend(f,e)}f.itemCss={position:"absolute",opacity:1,top:0,left:0,marginTop:f.marginTop,marginRight:f.marginRight,"float":"left"};return this.each(function(){var e=a(this),g=e.children(),h=Math.floor(e.width()/f.itemWidth),i=g.first().outerHeight(),j,k=b.prefixed("transition"),l=d.getPrefixed("transform");e.css("position","relative").get(0).style[k]="height "+f.speed+"ms "+f.easing;g.each(function(b){var d=f.itemCss;if(c){this.style[k]=l+" "+f.speed+"ms "+f.easing+", opacity "+f.speed+"ms "+f.easing}if((b+1)%h===0){d.marginRight=0}a(this).css(f.itemCss)});j={$items:g,itemsPerRow:h,itemHeight:i,itemWidth:f.itemWidth,marginTop:f.marginTop,marginRight:f.marginRight,settings:f};e.data("shuffle",j);d.shuffle.call(this,"all")})},shuffle:function(b){var c=a(this),e=c.data("shuffle"),f,g;if(!e){d.init.call(this);e=a(this).data("shuffle")}if(!b)b="all";if(b==="all"){e.$items.removeClass("concealed")}else{e.$items.removeClass("concealed filtered").each(function(){var c=a(this).attr("data-key"),d=a.parseJSON(c);if(a.inArray(b,d)===-1){a(this).addClass("concealed");return}})}f=e.$items.not(".concealed").addClass("filtered").length;d.shrink.call(this);d.filter.call(this);g=Math.ceil(f/e.itemsPerRow)*(e.itemHeight+e.marginTop)-e.marginTop;c.css("height",g+"px")},shrink:function(){var b=a(this).find(".concealed");if(b.length===0){return}b.each(function(){var b=a(this),c=parseInt(b.attr("data-x"),10),e=parseInt(b.attr("data-y"),10),f=b.parent().data("shuffle");if(!c)c=0;if(!e)e=0;d.transition({$this:b,x:c,y:e,left:c+f.itemWidth/2+"px",top:e+f.itemHeight/2+"px",scale:.001,opacity:0,height:"0px",width:"0px"})})},filter:function(){var b=0,c=a(this).find(".filtered");c.each(function(c){var e=a(this),f=e.parent().data("shuffle"),g=c%f.itemsPerRow*(f.itemWidth+f.marginRight),h=Math.floor(c/f.itemsPerRow);if(c%f.itemsPerRow===0){b=h*(f.itemHeight+f.marginTop)}e.attr({"data-x":g,"data-y":b});d.transition({$this:e,x:g,y:b,left:g+"px",top:b+"px",scale:1,opacity:1,height:f.itemHeight+"px",width:f.itemWidth+"px"})})},setPrefixedCss:function(a,c,d){a.css(b.prefixed(c),d)},getPrefixed:function(a){return b.prefixed(a).replace(/([A-Z])/g,function(a,b){return"-"+b.toLowerCase()}).replace(/^ms-/,"-ms-")},transition:function(a){var e;if(c){if(b.csstransforms3d){e="translate3d("+a.x+"px, "+a.y+"px, 0px) scale3d("+a.scale+", "+a.scale+", "+a.scale+")"}else{e="translate("+a.x+"px, "+a.y+"px) scale("+a.scale+", "+a.scale+")"}a.$this.css("opacity",a.opacity);d.setPrefixedCss(a.$this,"transform",e)}else{a.$this.animate({left:a.left,top:a.top,opacity:a.opacity,height:a.height,width:a.width},800)}}};a.fn.shuffle=function(b){if(d[b]){return d[b].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof b==="object"||!b){return d.init.apply(this,arguments)}else{a.error("Method "+b+" does not exist on jQuery.shuffle");return false}}})(jQuery,Modernizr);